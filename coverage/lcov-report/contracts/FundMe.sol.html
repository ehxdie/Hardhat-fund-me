<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/FundMe.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> FundMe.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/8</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/14</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8;
&nbsp;
// This interface is provided by chainlink and allows for the getting
// of data from external datafeeds depending on the interface
&nbsp;
import "./PriceConverter.sol";
import "@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol";
&nbsp;
contract FundMe {
&nbsp;
    // Setting up a variable that will host the owners address
    address public owner;
&nbsp;
    // Ensuring that the address that deploys the contract is the owner of that
    // contract
&nbsp;
    AggregatorV3Interface public priceFeed;
&nbsp;
    // Adding the address of the price feed as an argument to the constructor, so that when the network is changed, to still get the same functionality only the "pricefeed" address would have to be changed
<span class="fstat-no" title="function not covered" >    constructor(address _priceFeed){</span>
        owner =  msg.sender;
        priceFeed = AggregatorV3Interface(_priceFeed);
    }
&nbsp;
    // Hmm I don't really get this 
    using PriceConverter for uint256;
&nbsp;
    // Setting the minimum amount that can be sent to this contract
    uint256 minimumUsd = 10 * 1e18;
&nbsp;
    // Array that will hold the addresses of who has funded the contract
    address[] public funders;
&nbsp;
    // To get the amount that is being sent by an address
    mapping(address =&gt; uint256) public addressToAmount;
&nbsp;
    // Funding function
    /* Different Individuals can fund the contract*/
&nbsp;
<span class="fstat-no" title="function not covered" >    function fund() public payable {</span>
        // Ensuring the amount  sent to the contract is &gt; 1eth
        // 1e18 is the representation of 1eth in wei
        // msg.value is in wei
        
        // msg.value.getConversionRate() 
        /* The msg.value acts as the first argument to the getConversionRate method
    adding a parameter in the brackets will act as a second*/
<span class="cstat-no" title="statement not covered" >        require(msg.value.getConversionRate(priceFeed) &gt; minimumUsd, "Didnt send enough")</span>;
&nbsp;
        // Adding the address of the funders to the funders array;
<span class="cstat-no" title="statement not covered" >        funders.push(msg.sender)</span>;
&nbsp;
        // Keeping track of how much each address sends
        addressToAmount[msg.sender] = msg.value;
&nbsp;
    }
&nbsp;
    // Functions for Getting prices and converting from eth to usd 
    // and vice versa
&nbsp;
    
    
    // Withdrawal function
    /* The owner of the contract can withdraw the funds sent to an 
    Individual addresss */
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >    function withdraw () public onlyOwner{</span>
        // This ensures that only the owner can withdraw
<span class="cstat-no" title="statement not covered" >        require(msg.sender == owner, "You can not withdraw")</span>;
&nbsp;
        // When the owner of the contract withdraws from the contract then the array
        // that hosts the amount sent should be set to zero
<span class="cstat-no" title="statement not covered" >         for (uint256 funderIndex = 0; funderIndex &lt; funders.length; funderIndex++) </span>
         {
<span class="cstat-no" title="statement not covered" >             address fundersAddress = funders[funderIndex];</span>
             addressToAmount[fundersAddress] = 0;
         }
&nbsp;
        // resetting the funders an array
        funders = new address[](0);
&nbsp;
        // withdrawing the funds
&nbsp;
        // transfer
        /*
        When transferring to another address first the address
        must be made payable, after then the &lt;.transfer()&gt; method
        is used
        payable(msg.sender).transfer(address(this).balance);
&nbsp;
        // send
        bool sendTransfer = payable(msg.sender).send(address(this).balance);
        require(sendTransfer,"Transfer has not gone through"); */
&nbsp;
        // call
<span class="cstat-no" title="statement not covered" >        (bool callSuccess, ) = payable(msg.sender).call{value: address(this).balance}("");</span>
<span class="cstat-no" title="statement not covered" >        require(callSuccess, "Call failed")</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    modifier onlyOwner{</span>
<span class="cstat-no" title="statement not covered" >        require(msg.sender == owner, "You can not withdraw")</span>;
        _; 
    }
&nbsp;
&nbsp;
}
 </pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Nov 20 2023 16:13:16 GMT+0100 (West Africa Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
